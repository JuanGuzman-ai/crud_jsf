<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <meta charset="UTF-8"></meta>
        <title>PROYECTO FINAL JAVASERVERFACES</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"></link>
        <script>
            function cargar(codi, nomb, progr, telef, gene) {
                document.getElementById('formulario:cod').value = codi;
                document.getElementById('formulario:nom').value = nomb;
                document.getElementById('formulario:prog').value = progr;
                document.getElementById('formulario:tel').value = telef;
                document.getElementById('formulario:gen').value = gene;
            }
        </script>
    </h:head>
    <h:body class="bg-light.bg-gradient">
        <nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Universidad ProgramaYa</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="inicio.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Gestión de usuarios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="http://localhost:8080/ProyectoFinalJSF/">Base de datos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled">Inhabilitado</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <br></br>
        <center>
            <h4>Base de datos</h4><hr></hr>
            <div style="width: 50%;">
                <h:form id="formulario" class="form-group">
                    <!--donde se pondra la información para hacer alguna función del CRUD-->
                    <div class="limpiar">
                        <h:inputText required="true" pt:placeholder="código*" class="form-control border border-danger" id="cod" value="#{estudianteMBean.codigo}"></h:inputText>
                        <h:inputText required="true" pt:placeholder="nombre*" class="form-control border border-dark" id="nom" value="#{estudianteMBean.nombre}"></h:inputText> 
                        <h:inputText required="true" pt:placeholder="programa*" class="form-control border border-dark" id="prog" value="#{estudianteMBean.programa}"></h:inputText> 
                        <h:inputText required="true" pt:placeholder="teléfono*" class="form-control border border-dark" id="tel" value="#{estudianteMBean.telefono}"></h:inputText> 
                        <h:selectOneMenu required="true" id="gen" value="#{estudianteMBean.genero}" class="dropdown-item border border-dark">
                            <f:selectItem itemLabel="¿Cual es el género?"/>
                            <f:selectItem itemValue="Masculino" itemLabel="Masculino" />
                            <f:selectItem itemValue="Femenino" itemLabel="Femenino" />
                        </h:selectOneMenu>
                    </div>
                    <br></br>
                    <h:commandButton class="btn btn-success" value="Agregar" action="#{estudianteMBean.agregar()}"></h:commandButton>
                    <h:commandButton class="btn btn-info" value="Modificar" action="#{estudianteMBean.modificar()}"></h:commandButton>
                    <h:commandButton class="btn btn-danger" value="Eliminar" action="#{estudianteMBean.eliminar()}"></h:commandButton>
                    <h:commandButton class="btn btn-warning limpiar" value="Limpiar" type="reset"></h:commandButton>
                </h:form>
            </div>
            <br></br>
            <h:dataTable class="table" value="#{estudianteMBean.tablaEstudiante}" var="est">
                <h:column>
                    <f:facet name="header">código</f:facet>
                    <h:outputText value="#{est.codigo}"></h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">nombre</f:facet>
                    <h:outputText value="#{est.nombre}"></h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">programa</f:facet>
                    <h:outputText value="#{est.programa}"></h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">teléfono</f:facet>
                    <h:outputText value="#{est.telefono}"></h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">género</f:facet>
                    <h:outputText value="#{est.genero}"></h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">Acciones</f:facet>
                    <a href="javascript:cargar('#{est.codigo}','#{est.nombre}','#{est.programa}','#{est.telefono}','#{est.genero}')">Get</a>
                </h:column>
            </h:dataTable>
        </center>
    </h:body>
</html>

